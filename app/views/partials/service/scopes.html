<div class="row">
    <div class="col-sm-12">
        <h4>Availability</h4>
        <p>Choose in which marketplace (internal/external) the API should be published. After selecting the marketplace, optionally, choose in which API Explorer the API should appear. When the service visibility is disabled, an IP restriction policy will be set with predefined values.</p>
        <hr>
        <!-- The plans to choose from -->
        <div class="col-sm-10 col-sm-offset-1 well" ng-hide="mkts">
            This functionality will be enabled soon, in order to select the API Marketplace you want you service to appear in. You must be have editor rights to access the visibility configuration.
        </div>

        <!--No available settings for this service-->
        <div class="col-sm-12">
            <div class="col-sm-12" ng-repeat="mkt in mkts|orderBy:'name':reverse">
                <div class="row">
                    <div class="col-sm-6 ui-checkbox ui-checkbox-primary ui-checkbox-circle" style="margin-bottom: 0">
                        <label>
                            <input type="checkbox" ng-model="mkt.checked" ng-disabled="isPublished || !User.isAuthorizedFor('svcEdit')">
                            <span class="title">{{ mkt.name.charAt(0).toUpperCase() + mkt.name.slice(1) }} Marketplace</span>
                        </label>
                    </div>
                    <div class="col-sm-6">
                        <div ng-show="mkt.code==='ext'" class="btn-group dropdown pull-right" dropdown>
                            <button type="button" class="btn btn-default btn-sm dropdown-toggle" dropdown-toggle ng-disabled="isPublished || !User.isAuthorizedFor('svcEdit')">
                                Visibility: {{mkt.selectedVisibility || 'Show'}}<span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li ng-repeat="visibility in visibilities" ng-click="mkt.selectedVisibility = visibility"><a>{{visibility}}</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <hr>
            </div>
        </div>

        <div class="col-sm-12 mt20" ng-if="!isPublished && User.isAuthorizedFor('svcEdit')">
            <button ng-disabled="!isDirty" class="btn btn-default btn-sm" ng-click="reset()">Cancel</button>
            <button ng-disabled="!isDirty" ng-click="saveService()" class="btn btn-primary btn-sm">Save</button>
        </div>
    </div>
</div>