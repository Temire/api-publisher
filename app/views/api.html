<div class="page page-api page-ui-notifications">
    <div class="toast toast-bottomRight">
      <uib-alert ng-repeat="toast in toasts" type="{{toast.type}}" close="closeAlert($index)" class="toast-fade">
        <div ng-bind-html="toast.msg"></div>
      </uib-alert>
    </div>
  <div class="page-wrap">
    <div class="row api-row breadcrumbs">
      <div class="panel" style="border: 0;">
        <div class="panel-body" style="padding-top: 10px; padding-bottom: 10px">
          <ol class="breadcrumb breadcrumb-small mb0">
            <li><a ui-sref="root.apis.list">Marketplace</a></li>
            <li class="active"><a ui-sref="root.api.documentation({orgId: serviceVersion.service.organization.id, svcId: serviceVersion.service.id})">{{serviceVersion.service.name}}</a></li>
          </ol>
        </div>
      </div>
    </div>

    <div class="row api-row">
      <div class="panel">
        <div class="panel-body">
          <!-- Main API info panel -->
          <div class="col-sm-1">
            <base64-logo logo-class="media center-block entity-logo-list" logo="{{serviceVersion.service.base64logo}}"></base64-logo>
          </div>
          <div class="pl30 col-sm-11">
            <div class="col-sm-9">
              <h3 class="text-primary text-uppercase text-bold">{{serviceVersion.service.name}}<a href ng-click="followAction()">&nbsp;&nbsp;
                  <i class="text-info follow-icon fa" ng-class="{'fa-star-o': !userIsFollowing, 'fa-star': userIsFollowing}"></i></a></h3>
            </div>
            <div class="col-sm-3 text-bold pull-right text-center">
              <h3><label class="label label-block text-nowrap text-ellipsis" ng-class="{'label-success': published, 'label-muted': deprecated || retired}">Version: {{serviceVersion.version}}</label></h3>
              <status-label class="xlarge" status="{{serviceVersion.status}}" ng-if="!published"></status-label>
              <button class="btn btn-line-success" ng-click="modalSelectApplicationForContract()" ng-if="published && loggedIn" ng-disabled="!loggedIn">{{serviceVersion.autoAcceptContracts ? 'Create' : 'Request'}} Contract</button>
              <p class="small text-muted text-light" ng-if="!loggedIn">Log in if you want to make use of this service.</p>
            </div>
            <div class="col-sm-12 text-primary">
              <span ng-if="showDeveloper"><span class="text-light fa fa-user"></span>&nbsp;{{serviceVersion.createdBy}}</span>
              <a ng-attr-href="{{serviceVersion.onlinedoc}}" ng-class="{ 'ml15': showDeveloper }" ng-if="serviceVersion.onlinedoc !== null && serviceVersion.onlinedoc.length > 0"><span class="fa fa-globe"></span>&nbsp;{{serviceVersion.onlinedoc}}</a>
              <span ng-class="{ 'ml15': showDeveloper || serviceVersion.onlinedoc !== null && serviceVersion.onlinedoc.length > 0 }" ng-hide="serviceVersion.service.categories.length == 0"><i class="fa fa-tag"></i>&nbsp;{{serviceVersion.service.categories.join(', ')}}</span>
              <span ng-class="{ 'ml15': showDeveloper || serviceVersion.onlinedoc !== null && serviceVersion.onlinedoc.length > 0 || serviceVersion.service.categories.length != 0 }" class="text-light fa fa-clock-o"></span>&nbsp;Created:&nbsp;{{serviceVersion.createdOn | date }}
            </div>
            <div class="col-sm-12">
              <hr>
            </div>
          </div>
          <div class="col-sm-12">
            <span>{{serviceVersion.service.description}}</span>
          </div>
        </div><!-- end main info panel -->

      </div>
    </div>

    <div class="row api-row">
      <div class="col-sm-12 bg-primary">
        <div class="btn-group btn-radio">
          <label class="btn btn-primary btn-justified" ng-model="displayTab.selectedTab" uib-btn-radio="'Documentation'" ui-sref=".documentation">Documentation</label>
          <label class="btn btn-primary btn-justified" ng-model="displayTab.selectedTab" uib-btn-radio="'Plans'" ui-sref=".plans">Plans & Policies</label>
          <label class="btn btn-primary btn-justified" ng-model="displayTab.selectedTab" uib-btn-radio="'Announcements'" ui-sref=".announcements">Announcements</label>
          <label class="btn btn-primary btn-justified" ng-model="displayTab.selectedTab" uib-btn-radio="'Support'" ui-sref=".support">Support <span class="badge text-bold" ng-if="(support | filter:{status:'OPEN'}).length > 0">{{(support | filter:{status:'OPEN'}).length}}</span></label>
          <label class="btn btn-primary btn-justified" ng-model="displayTab.selectedTab" uib-btn-radio="'Terms'" ui-sref=".terms" ng-if="hasTerms()">API README</label>
        </div>
      </div>
      <div>
        <div class="panel">
          <div class="panel-body">
            <div class="mt30" ui-view></div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
