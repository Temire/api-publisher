<div class="form" data-field="form" ng-controller="IPListPolicyCtrl">
  <div class="form-horizontal">
    <div class="form-group">
      <label class="col-md-3 control-label">IP Address HTTP Header</label>
      <div class="col-md-9">
        <input id="http-header" ng-model="config.httpHeader" data-field="httpHeader" class="form-control" style="" type="text" placeholder="HTTP header (optional)...">
      </div>
    </div>
    <div class="form-group">
      <label class="col-md-3 control-label">Failure Response</label>
      <div class="col-md-9">
        <select id="failure-code" ng-model="config.responseCode" class="form-control" data-live-search="false">
          <option value="403">Authentication Failure (403)</option>
          <option value="404">Not Found (404)</option>
          <option value="500">Server Error (500)</option>
        </select>
        <p>Choose how apiman should respond to a client if the request fails due to a violation of this policy.</p>
      </div>
    </div>
  </div>
  <div class="mt30">Manage the list of IP addresses in the box below.  Wildcards can be used by specifying "*" as one of the components of the IP address, such as "10.0.*.*".</div>
  <div class="col-md-4">
    <select id="ip-addresses" ng-model="selectedIP" data-field="ipAddresses" multiple class="form-control"  ng-options="item for item in config.ipList | orderBy: 'toString()'">
    </select>
  </div>
  <div class="col-md-6">
    <button id="remove" ng-click="remove(selectedIP)" ng-disabled="!selectedIP" data-field="remove" class="btn btn-default btn-sm">Remove</button>
    <button id="clear" ng-click="clear()" ng-disabled="!config.ipList" data-field="clear" class="btn btn-default btn-sm">Clear</button>
  </div>
  <div class="form-horizontal col-md-12 mt5">
    <div class="form-group">
      <div class="col-md-4">
        <input id="ip-address" ng-model="ipAddress" ng-pattern="/((^\s*(((?:\*|([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\.){3}(?:\*|([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])))\s*$))/" data-field="ipAddress" class="form-control" type="text" placeholder="Enter an IP address...">
      </div>
      <button id="add" ng-disabled="!ipAddress" ng-click="add(ipAddress)" data-field="add" class="btn btn-default">Add</button>
    </div>
  </div>
</div>
